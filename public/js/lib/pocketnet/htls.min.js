var HTLS=function(){var n=this,r=window.bitcoin,e=function(n){return trim(n.replace(/\n\t/g).replace(/\s{2,}/g," "))},t=function(n,e){e||(e=100);for(var t=Buffer.from(n),o=0;o<e;o++)t=r.crypto.sha256(t);return t.toString("hex")},o=function(n,r){return t(t(n)+"_"+r,10)};return n.hash=function(n,r){return o(n,r)},n.createPayment=function(n,t,c,s,i){var a=function({reciever:n,sender:t,hash:o,lock:c}){var s=r.address.fromBase58Check(t).hash,i=r.address.fromBase58Check(n).hash,a=r.script.number.encode(c),h=e(`\n            OP_IF\n                OP_SHA256 ${r.crypto.sha256(o).toString("hex")} OP_EQUALVERIFY\n                OP_DUP \n                OP_HASH160 ${i.toString("hex")}\n            OP_ELSE\n                ${a.toString("hex")} OP_CHECKLOCKTIMEVERIFY \n                OP_DROP \n                OP_DUP \n                OP_HASH160 ${s.toString("hex")}\n            OP_ENDIF\n            OP_EQUALVERIFY\n            OP_CHECKSIG\n        `);return console.log("asm2",h),console.log("asm2cc",r.script.toASM(r.script.fromASM(h))),r.script.fromASM(h)}({hash:o(n,t),reciever:s,sender:i,lock:c});return r.payments.p2sh({redeem:{output:a}})},n};"undefined"!=typeof module?module.exports={HTLS:HTLS}:window.HTLS=HTLS;